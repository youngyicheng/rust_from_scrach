# Quant Factor - é‡åŒ–å› å­è®¡ç®—åº“

ä¸€ä¸ªä½¿ç”¨ Rust ç¼–å†™çš„é‡åŒ–é‡‘èå› å­è®¡ç®—åº“ï¼Œä¸“æ³¨äºå®½è¡¨æ ¼å¼æ•°æ®çš„å¤„ç†ã€‚

## åŠŸèƒ½ç‰¹æ€§

- ğŸ“Š **å®½è¡¨æ•°æ®ç»“æ„**ï¼šæ”¯æŒæ—¶é—´ç´¢å¼•ã€è‚¡ç¥¨åˆ—çš„æ•°æ®æ ¼å¼
- ğŸ“ˆ **æ”¶ç›Šç‡è®¡ç®—**ï¼šè®¡ç®—ç™¾åˆ†æ¯”å˜åŒ–ï¼ˆpct_changeï¼‰
- ğŸš€ **åŠ¨é‡å› å­**ï¼šåŸºäºæ”¶ç›Šç‡çš„åŠ¨é‡å› å­è®¡ç®—
- âš¡ **é«˜æ€§èƒ½**ï¼šä½¿ç”¨ Polars è¿›è¡Œé«˜æ•ˆçš„æ•°æ®å¤„ç†

## é¡¹ç›®ç»“æ„

```
quant_factor/
â”œâ”€â”€ src/
â”‚   â”œâ”€â”€ lib.rs          # åº“å…¥å£
â”‚   â”œâ”€â”€ wide_table.rs   # å®½è¡¨æ•°æ®ç»“æ„å®ç°
â”‚   â”œâ”€â”€ factor.rs       # å› å­è®¡ç®—é€»è¾‘
â”‚   â””â”€â”€ main.rs         # ç¤ºä¾‹ç¨‹åº
â”œâ”€â”€ Cargo.toml          # é¡¹ç›®é…ç½®
â””â”€â”€ README.md          # é¡¹ç›®è¯´æ˜
```

## ä½¿ç”¨æ–¹æ³•

### åŸºæœ¬ä½¿ç”¨

```rust
use quant_factor::{WideTable, FactorCalculator};
use polars::prelude::*;
use chrono::NaiveDate;

// åˆ›å»ºå®½è¡¨æ•°æ®
let df = DataFrame::new(vec![
    Series::new("date", dates),
    Series::new("stock_A", prices_a),
    Series::new("stock_B", prices_b),
])?;

let table = WideTable::new(df, "date")?;

// è®¡ç®—æ”¶ç›Šç‡
let returns = FactorCalculator::calculate_returns(&table, 1)?;

// è®¡ç®—åŠ¨é‡å› å­ï¼ˆè¿‡å» 20 æœŸï¼‰
let momentum = FactorCalculator::calculate_momentum(&table, 20)?;
```

### ä» CSV åŠ è½½æ•°æ®

```rust
let table = WideTable::from_csv("data.csv", "date")?;
```

### ä¿å­˜ç»“æœ

```rust
returns.to_csv("returns.csv")?;
momentum.to_csv("momentum.csv")?;
```

## æ•°æ®æ ¼å¼

å®½è¡¨æ ¼å¼è¦æ±‚ï¼š
- **ç´¢å¼•åˆ—**ï¼šæ—¶é—´åˆ—ï¼ˆdate/datetimeï¼‰
- **æ•°æ®åˆ—**ï¼šè‚¡ç¥¨ä»£ç æˆ–è‚¡ç¥¨åç§°
- **å€¼**ï¼šä»·æ ¼æ•°æ®ï¼ˆå¦‚ closeï¼‰

ç¤ºä¾‹ï¼š

| date       | 000001 | 000002 | 600000 |
|------------|--------|--------|--------|
| 2024-01-01 | 10.0   | 20.0   | 15.0   |
| 2024-01-02 | 10.2   | 20.5   | 15.3   |
| 2024-01-03 | 10.5   | 21.0   | 15.1   |

## è¿è¡Œç¤ºä¾‹

```bash
cargo run
```

## ä¾èµ–

- `polars`: é«˜æ€§èƒ½æ•°æ®å¤„ç†åº“
- `chrono`: æ—¶é—´å¤„ç†
- `anyhow`: é”™è¯¯å¤„ç†
- `serde`: åºåˆ—åŒ–æ”¯æŒ

## å¼€å‘è®¡åˆ’

- [ ] æ”¯æŒæ›´å¤šå› å­ç±»å‹ï¼ˆåè½¬å› å­ã€æ³¢åŠ¨ç‡å› å­ç­‰ï¼‰
- [ ] æ”¯æŒå¤šå‘¨æœŸåŠ¨é‡
- [ ] æ·»åŠ å› å­æœ‰æ•ˆæ€§æ£€éªŒ
- [ ] æ”¯æŒå› å­ä¸­æ€§åŒ–
- [ ] æ€§èƒ½ä¼˜åŒ–å’Œå¹¶è¡Œè®¡ç®—

## è®¸å¯è¯

MIT License
